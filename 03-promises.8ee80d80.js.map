{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAUC,SAASC,cAAc,uBACjCC,EAASF,SAASC,cAAc,sBAChCE,EAAWH,SAASC,cAAc,wBAClCG,EAASJ,SAASC,cAAc,SAChCI,EAAWL,SAASC,cAAc,yBAwCxC,SAASK,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,SAACC,EAAKC,GACvBC,YAAW,WACLN,EACFI,EAAI,CAAEN,WAAUC,UAEhBM,EAAI,CAAEP,WAAUC,S,GAEjBA,E,IAjDPJ,EAAOY,iBAAiB,UAExB,SAAsBC,GACpBA,EAAEC,iBAEFb,EAASc,UAAW,EASpB,IAAIC,EAAaC,OAAOtB,EAAQuB,OAC5BC,EAAYF,OAAOnB,EAAOoB,OAC1BE,EAAcH,OAAOlB,EAASmB,OAC9BG,EAAaL,EAAaG,EAAYC,EAC1C,GAAIJ,GAAc,GAAKG,GAAa,GAAKC,GAAe,EAEtD,YADA3B,EAAA6B,OAAOC,QAAQ,OAIjB,IAAK,IAAIC,EAAW,EAAGA,GAAYJ,EAAaI,GAAY,EAC1DtB,EAAcsB,EAAUR,GACrBS,MAAK,SAAAC,G,IAAGvB,EAAQuB,EAARvB,SAAUC,EAAKsB,EAALtB,M,OACjBX,EAAA6B,OAAOK,QAAQ,uBAAwCC,OAAfzB,EAAS,QAAYyB,OAANxB,EAAM,M,IAE9DyB,OAAM,SAAAH,G,IAAGvB,EAAQuB,EAARvB,SAAUC,EAAKsB,EAALtB,M,OAClBX,EAAA6B,OAAOQ,QAAQ,sBAAqCF,OAAfzB,EAAS,QAAYyB,OAANxB,EAAM,M,IAG9DY,GAAcG,EAEhBnB,EAAO+B,QAmBMC,EAlBPX,EAmBNV,YAAW,WACTV,EAASc,UAAW,C,GACnBiB,GAHL,IAAeA,C,IAOfC,QAAQC,IAAI,Q","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst delayEl = document.querySelector('input[name=\"delay\"]');\nconst stepEl = document.querySelector('input[name=\"step\"]');\nconst amountEl = document.querySelector('input[name=\"amount\"]');\nconst formEl = document.querySelector('.form');\nconst startBtn = document.querySelector('button[type=\"submit\"]');\nformEl.addEventListener('submit', onFormSubmit);\n// console.log('asdasd');\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  \n  startBtn.disabled = true;\n\n\n  // ------------Не розумію чому не працює деструктурізація, не бачить Елементс----\n  // const {\n  //   elements: { delay, step, amount },\n  // } = e.currentTarget;\n  // console.log(elements);\n  // --------------------------------------------------------------------------------\n  let delayValue = Number(delayEl.value);\n  let stepValue = Number(stepEl.value);\n  let amountValue = Number(amountEl.value);\n  let totalDelay = delayValue + stepValue * amountValue;\n  if (delayValue <= 0 || stepValue <= 0 || amountValue <= 0) {\n    Notify.warning('???');\n    return;\n  };\n  \n  for (let position = 1; position <= amountValue; position += 1) {\n    createPromise(position, delayValue)\n      .then(({ position, delay }) =>\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`)\n      )\n      .catch(({ position, delay }) =>\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)\n    );\n    \n    delayValue += stepValue;\n  }\n  formEl.reset()\n  onOff(totalDelay);\n}\n// console.log(onFormSubmit());\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((Res, Rej) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        Res({ position, delay });\n      } else {\n        Rej({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction onOff(total) { \n  setTimeout(() => {\n    startBtn.disabled = false;\n  }, total);\n}\n\n\nconsole.log('12r12');\n\n\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$delayEl","document","querySelector","$ce04d3a99e08e73b$var$stepEl","$ce04d3a99e08e73b$var$amountEl","$ce04d3a99e08e73b$var$formEl","$ce04d3a99e08e73b$var$startBtn","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","Res","Rej","setTimeout","addEventListener","e","preventDefault","disabled","delayValue","Number","value","stepValue","amountValue","totalDelay","Notify","warning","position1","then","param","success","concat","catch","failure","reset","total","console","log"],"version":3,"file":"03-promises.8ee80d80.js.map"}